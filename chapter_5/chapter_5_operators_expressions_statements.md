# Глава 5. Операторы, выражения, инструкции

## Выражения.

**_Выражения_** _- это часть кода, которая преобразуется в значение._

_Выражение может существовать само по себе, либо его значение может
присваиваться переменной_

```javascript
1 + 1
a = 1
```

## Операторы.

**_Операторы_** _- то что воздействует на выражения и заставляет их работать._

_Воздействуя на данные, операторы производят различные результаты. В
предыдущих примерах операторами служат `+` и `=`._

| Оператор         | Описание                                             | Ассоциативность | Приоритет               | Пример                     |
| ---------------- | ---------------------------------------------------- | --------------- | ----------------------- | -------------------------- |
| (...)            | Группирование                                        | Неприменимо     | 0 - найвысший приоритет | `(1 + 3)`                  |
| .                | Доступ к свойству                                    | Слева направо   | 1                       | `myCar.color`              |
| [...]            | Доступ к массиву                                     | Слева направо   | 1                       | `thingsToDo[4]`            |
| new...()         | Создание обьекта (со списком аргументов)             | Неприменимо     | 1                       | `new Car"red"`             |
| function...()    | Вызов функции                                        | Слева направо   | 2                       | `function addNumbers(1,2)` |
| new...           | Создание обьекта (без списка аргументов)             | Справа налево   | 2                       | `new Car`                  |
| ...++            | Постфиксный инкремент                                | Неприменимо     | 3                       | `number++`                 |
| ...--            | Постфиксный декремент                                | Неприменимо     | 3                       | `number--`                 |
| !...             | Логическое НЕ                                        | Справа налево   | 4                       | `!myVal`                   |
| ~...             | Поразрядное НЕ                                       | Справа налево   | 4                       | `~myVal`                   |
| -...             | Отрицание                                            | Справа налево   | 4                       | `-aNumber`                 |
| ++...            | Префиксный инкремент                                 | Справа налево   | 4                       | `++aNumber`                |
| --...            | Префиксный декремент                                 | Справа налево   | 4                       | `--aNumber`                |
| typeof...        | Информация о типе                                    | Справа налево   | 4                       | `typeof myVar`             |
| void...          | Вычисляет выражение и возвращает undefined           | Справа налево   | 4                       | `void(0)`                  |
| delete...        | Удаление                                             | Справа налево   | 4                       | `delete object.property`   |
| ...\*...         | Умножение                                            | Слева направо   | 5                       | `result = 3 * 7`           |
| .../...          | Деление                                              | Слева направо   | 5                       | `result = 3 / 7`           |
| ...%...          | Остаток                                              | Слева направо   | 5                       | `result = 7 % 3`           |
| ...+...          | Сложение                                             | Слева направо   | 6                       | `result = 3 + 7`           |
| ...-...          | Вычитание                                            | Слева направо   | 6                       | `result = 3 - 7`           |
| ...<<...         | Поразрядный сдвиг влево                              | Слева направо   | 7                       | `result = 3 << 7`          |
| ...>>...         | Поразрядный сдвиг вправо                             | Слева направо   | 7                       | `result = 3 >> 7`          |
| ...>>>...        | Поразрядный сдвиг вправо без знака                   | Слева направо   | 7                       | `result = 3 >>> 7`         |
| ...<...          | Меньше чем                                           | Слева направо   | 8                       | `a < b`                    |
| ...<=...         | Меньше чем или равно                                 | Слева направо   | 8                       | `a <= b`                   |
| ...>...          | Больше чем                                           | Слева направо   | 8                       | `a > b`                    |
| ...>=...         | Больше чем или равно                                 | Слева направо   | 8                       | `a>= b `                   |
| ...in...         | Проверка наличия свойства                            | Слева направо   | 8                       | `value in values`          |
| ...instanceof... | Проверка принадлежности к типу                       | Слева направо   | 8                       | `myCar instanceof car`     |
| ...==...         | Проверка равенства                                   | Слева направо   | 9                       | `3 == "3" // true`         |
| ...!=...         | Проверка неравенства                                 | Слева направо   | 9                       | `3 !== "3" // false`       |
| ...===...        | Проверка строгого равенства                          | Слева направо   | 9                       | `3 === "3" // false`       |
| ...!==...        | Проверка строгого неравенства                        | Слева направо   | 9                       | `3 != "3" // true`         |
| ...&...          | Поразрядное И                                        | Слева направо   | 10                      | `result = a & b`           |
| ...^...          | Поразрядное исключающее ИЛИ                          | Слева направо   | 11                      | `result = a ^ b`           |
| ...\|...         | Поразрядное ИЛИ                                      | Слева направо   | 12                      | `result = a \| b`          |
| ...&&...         | Логическое И                                         | Слева направо   | 13                      | `a && b`                   |
| ...\|\|...       | Логическое ИЛИ                                       | Слева направо   | 14                      | `a \|\| b`                 |
| ...?...:...      | Тернарный условный оператор                          | Справа налево   | 15                      | `a ? 3 : 7`                |
| ...=...          | Присваивание                                         | Справа налево   | 16                      | `a = 3`                    |
| ...+=...         | Присваивание                                         | Справа налево   | 16                      | `a += 3`                   |
| ...-=...         | Присваивание                                         | Справа налево   | 16                      | `a -= 3`                   |
| ...\*=...        | Присваивание                                         | Справа налево   | 16                      | `a *= 3`                   |
| .../=...         | Присваивание                                         | Справа налево   | 16                      | `a /= 3`                   |
| ...%=...         | Присваивание                                         | Справа налево   | 16                      | `a %= 3`                   |
| ...<<=...        | Присваивание                                         | Справа налево   | 16                      | `a <<= 3`                  |
| ...>>=...        | Присваивание                                         | Справа налево   | 16                      | `a >>= 3`                  |
| ...>>>...        | Присваивание                                         | Справа налево   | 16                      | `a >>> b`                  |
| ...&=...         | Присваивание                                         | Справа налево   | 16                      | `a &= 3`                   |
| ...^=...         | Присваивание                                         | Справа налево   | 16                      | `a ^= 3`                   |
| ...!=...         | Присваивание                                         | Справа налево   | 16                      | `a != 3`                   |
| yield...         | Остановка и возобновление функции-генератора         | Справа налево   | 17                      | `yield(выражение)`         |
|                  | Вычисляет оба операнда и возвращает значение второго | Справа налево   | 18                      | `a + b, c + d`             |

**_Использование скобок_** _- В выражениях оператором с наивысшим
приоритетом являются круглые скобки._

```javascript
a = (1 + 2) * (3 / 4); // результат: 2.25
a = (1 + (2 * 3) / 4); // результат: 1.75
a = ((1 + 2) * 3 /4; // результат: 2.25
a = 1 + ((2 * 3) / 4); // результат: 2.5
```

_Скобки в выражении вынуждают интерпретатор JS вычислять сначала их
содержимое, продвегаясь от внутренних скобок к внешним, и лишь затем
выполнять операции вне скобок._

### Типы операторов

Операторы в js делятся на типы.

#### Операторы присваивания

_Оператор присваивания_ записывает значение операнда, находящегося справа от
него, в операнд, находящийся слева: `a = 5;`

_Оператор присваивания_ могут обьеденяться в цепочки для того чтобы присвоить
одно и то же значение сразу нескольким переменным: `a = b = c = 5`

#### Операторы сравнения

_Операторы сравнения_ проверяют равенство или неравенство операндов и
возвращают в качестве результата значение `true` или `false`

| Оператор | Описание         | Пример               |
| -------- | ---------------- | -------------------- |
| ==       | Равно            | `3 == "3" // true`   |
| !=       | Не равно         | `3 != "3" // false`  |
| ===      | Строго равно     | `3 === "3" // false` |
| !==      | Строго не равно  | `3 !== "3" // true`  |
| \>       | Больше           | `7 > 1 // true`      |
| \>=      | Больше или равно | `7 >= 7 // true`     |
| <        | Меньше           | `7 < 10 // true`     |
| <=       | Меньше или равно | `2 <= 2 // true`     |

#### Арифметические операторы

_Арифметические операторы_ выполняют математические операции над операндами
и возвращают результат.

| Оператор | Описание       | Пример                                |
| -------- | -------------- | ------------------------------------- |
| +        | Сложение       | `a = 1 + 1`                           |
| -        | Вычитание      | `a = 10 - 1`                          |
| \*       | Умножение      | `a = 2 * 2`                           |
| /        | Деление        | `a = 8 / 2`                           |
| %        | Взятие остатка | `a = 5 % 2`                           |
| ++       | Инкремент      | `a = ++b` <br/> `a = b++` <br/> `a++` |
| --       | Декремент      | `a = --b` <br/> `a = b--` <br/> `a--` |

#### Строковый оператор

_Строковый оператор_ выполняет операции с использованием двух строк. В
случае строк оператор `+` становится оператором конкатенации, который
обьединяет две строки в одну.

```javascript
var greeting = 'Привет, ' + firstName + '. Я' + ' ' + mood + ' тебя видеть.'
```

#### Поразрядные операторы

_Поразрядные (побитовые) операторы_ обрабатывают операнды как 32-разрядные
(32-битовые) целые двоичные числа со знаком, представленные в дополнительном
коде. Поясним, что все это означает, начиная с термина двоичный.

**_Двоичные числа_** - это строки, состоящие из нулей и единиц, в которых
значение каждой единицы определяется ее позицией в данной строке.

| Оператор                          | Использование | Описание                                                                                                                         |
| --------------------------------- | ------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| Поразрядное И (AND)               | `a & b`       | Возвращает 1 в тех позициях результата, в которых биты каждого из операндов равны 1                                              |
| Поразрядное ИЛИ (OR)              | `a \| b `     | Возвращает 1 в тех позициях результата, в которых бит хотя бы одного из операндов равен 1                                        |
| Поразрядное исключающее ИЛИ (XOR) | `a ^ b`       | Возвращает 1 в тех позициях результата, в которых бит только одного из операндов равен 1                                         |
| Поразрядное НЕ (NOT)              | `~a`          | Заменяет каждый бит операнда на противоположенный                                                                                |
| Левый сдвиг                       | `a << b`      | Сдвигает двоичное представление `a` на `b` разрядов влево, заполняя освобождающиеся позиции нулями                               |
| Правый сдвиг с переносом знака    | `a >> b`      | Сдвигает двоичное представление `a` на `b(<32)` разрядов вправо, отбрасывая уходящие биты                                        |
| Правый сдвиг с заполнением нулями | `a >>> b`     | Сдвигает двоичное представление `a` на `b(<32)` разрядов вправо, отбрасывая уходящие биты и заполняя освобождающиеся биты нулями |

#### Логические операторы

_Логические операторы_ вычисляют логическое выражение и определяют его
истинность или ложность.

| Оператор | Название            | Описание                                                                                                                |
| -------- | ------------------- | ----------------------------------------------------------------------------------------------------------------------- |
| &&       | Логическое И (AND)  | Возвращает первый операнд, если он равен `false`, иначе - второй операнд                                                |
| \|\|     | Логическое ИЛИ (OR) | Возвращает первый операнд, если он равен `true`, иначе - второй операнд                                                 |
| !        | Логическое НЕ (NOT) | Принимает лишь один операнд. Возвращает `false`, если операнд может быть преобразован в `true`, иначе возвращает `true` |

С помощью оператора \|\| можно задавать значения по умолчанию для переменных.

#### Специальные операторы

_Специальные операторы_ - это пестрая смесь символов и слов, которые
выполняют различные важные функции.

##### Условный оператор

_Условный оператор_ (также известный как _тернарный оператор_) использует
три операнда. Он вычисляет логическое выражение, а затем возвращает значение,
зависящее от того, какой результат был получен: `true` или `false`.
Условный оператор - единственный, который требует трех операндов.

```javascript
var isItBiggerThanTen = value > 10 ? 'больше 10' : 'не больше 10'
```

##### Оператор запятая

_Оператор запятая (`,`)_ вычисляет два операнда и возвращает значение
второго
из них. Чаще всего он используется для выполнения нескольких присваиваний
или других операций внутри циклов. Он также может используется для
сокращенной записи инструкций инициализации переменных:

```javascript
var a = 10,
	b = 0
```

Поскольку оператор запятая имеет наинизший приоритет среди всех операторов,
его операнды всегда вычисляются по отдельности.

##### Оператор `delete`

_Оператор delete_ удаляет свойство из обьекта или элемент из массива.

Длина массива после удаление из него элемента с помощью оператора
`delete` остается прежней. Удаленный элемент принимает значение
`undefined`.

```javascript
var animals = ['dog', 'cat', 'bird', 'octopus']
console.log(animals[3]) // возвращает "octopus"
delete animals[3]
console.log(animals[3]) // возвращает "undefined"
```

##### Оператор `in`

_Оператор `in`_ возвращает `true`, если указанное значение имеется в
массиве или обьекте.

```javascript
var animals = ['dog', 'car', 'bird', 'octopus']
if (3 in animals) {
	console.log('Это значение есть в массиве')
}
```

В этом примере, если в массиве `animals` имеется элемент с индексом 3, в
консоли JS отобразится строка `"Это значение есть в массиве"`.

##### Оператор `instanceof`

_Оператор `instanceof`_ возвращает `true`, если указанный обьект
относится к указанному типе.

```javascript
var myString = new String()
if (myString instanceof String) {
	console.log('Да, это строка!')
}
```

##### Оператор `new`

_Оператор `new`_ создает экземпляр обьекта. В следующем примере `Date()
` - встроенный обьект JS, тогда как `Pet` и `Flower()` - пример
экземпляров обьектов, которые программист может создавать для решения
нестандартных задач в программе.

```javascript
var today = new Date()
var bird = new Pet()
var daisy = new Flower()
```

##### Оператор `this`

_Оператор `this`_ возвращает текущий обьект. Он часто используется для
получения свойств внутри обьекта.

##### Оператор `typeof`

_Оператор `typeof`_ возвращает строку, содержащую тип операнда.

```javascript
var businessName = 'Minimax'
console.log(typeof businessName) // возвращает "string"
```

##### Оператор `void`

_Оператор `void`_ приводит к вычислению выражения операнда без
возвращения значения. Чаще всего оператор `void` можно встретить в
HTML-документах, когда нужна ссылка, но создатель ссылки хочет переопределить
ее поведение по умолчанию, используя JS.

```html
<a href="javascript:void(0);">Это ссылка, но она ничего не делает</a>
```

##### Обьединение операторов

Операцию присваивания переменной результат вычисления выражения можно
записать в краткой форме, обьединяя оператор присваивания с другими операторами.

```javascript
a = a + 10
a += 10
```

| Операция                                          | Сокращенная запись | Стандартная запись |
| ------------------------------------------------- | ------------------ | ------------------ |
| Присваивание                                      | `x = y`            | `x = y`            |
| Сложение с присваиванием                          | `x += y`           | `x = x + y`        |
| Вычитание с присваиванием                         | `x -= y`           | `x = x - y`        |
| Умножение с присваиванием                         | `x *= y`           | `x = x * y`        |
| Деление с присваиванием                           | `x /= y`           | `x = x / y`        |
| Взятие остатка с присваиванием                    | `x %= y`           | `x = x % y`        |
| Левый сдвиг с присваиванием                       | `x <<= y`          | `x = x << y`       |
| Правый сдвиг с присваиванием                      | `x >>= y`          | `x = x >> y`       |
| Правый сдвиг с заполнением нудями с присваиванием | `x >>>= y`         | `x = x >>> y`      |
| Поразрядное И с присваиванием                     | `x &= y`           | `x = x & y`        |
| Поразрядное исключающее ИЛИ с присваиванием       | `x ^= y`           | `x = x ^ y`        |
| Поразрядное ИЛИ с присваиванием                   | `x \|= y`          | ` x = x \| y`      |
